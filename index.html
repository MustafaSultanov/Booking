<!DOCTYPE html>
<html lang="ky">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>–í–∞–ª–µ–π–±–æ–ª –ó–∞–ª—ã - Supabase</title>
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
					sans-serif;
				background: #f8fafc;
				min-height: 100vh;
				padding: 20px;
				color: #1e293b;
			}

			.container {
				max-width: 1400px;
				margin: 0 auto;
			}

			.header {
				background: white;
				border-radius: 16px;
				padding: 32px;
				margin-bottom: 24px;
				box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
			}

			.header h1 {
				font-size: 32px;
				font-weight: 600;
				color: #0f172a;
				margin-bottom: 8px;
			}

			.subtitle {
				color: #64748b;
				font-size: 16px;
			}

			.sync-status {
				display: inline-flex;
				align-items: center;
				gap: 8px;
				padding: 6px 12px;
				background: #f0fdf4;
				border: 1px solid #bbf7d0;
				border-radius: 6px;
				font-size: 13px;
				color: #166534;
				margin-top: 8px;
			}

			.sync-status.syncing {
				background: #fef3c7;
				border-color: #fde68a;
				color: #92400e;
			}

			.sync-status.offline {
				background: #fee2e2;
				border-color: #fecaca;
				color: #991b1b;
			}

			.week-nav {
				display: flex;
				justify-content: space-between;
				align-items: center;
				background: white;
				border-radius: 12px;
				padding: 20px 24px;
				margin-bottom: 24px;
				box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
			}

			.nav-btn {
				background: #f1f5f9;
				border: none;
				padding: 10px 20px;
				border-radius: 8px;
				cursor: pointer;
				font-weight: 500;
				color: #475569;
				transition: all 0.2s;
			}

			.nav-btn:hover {
				background: #e2e8f0;
				color: #1e293b;
			}

			.week-info {
				font-size: 18px;
				font-weight: 600;
				color: #0f172a;
			}

			.stats-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
				gap: 16px;
				margin-bottom: 24px;
			}

			.stat-card {
				background: white;
				border-radius: 12px;
				padding: 24px;
				box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
			}

			.stat-label {
				font-size: 14px;
				color: #64748b;
				margin-bottom: 8px;
				font-weight: 500;
			}

			.stat-value {
				font-size: 32px;
				font-weight: 700;
				margin-bottom: 4px;
			}

			.stat-card.booked .stat-value {
				color: #dc2626;
			}
			.stat-card.available .stat-value {
				color: #16a34a;
			}
			.stat-card.past .stat-value {
				color: #ca8a04;
			}
			.stat-card.total .stat-value {
				color: #2563eb;
			}

			.days-grid {
				display: grid;
				gap: 16px;
			}

			.day-card {
				background: white;
				border-radius: 12px;
				padding: 24px;
				box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
			}

			.day-header {
				display: flex;
				justify-content: space-between;
				align-items: center;
				margin-bottom: 20px;
				padding-bottom: 16px;
				border-bottom: 2px solid #f1f5f9;
			}

			.day-title {
				font-size: 20px;
				font-weight: 600;
				color: #0f172a;
			}

			.day-date {
				font-size: 14px;
				color: #64748b;
			}

			.day-stats {
				display: flex;
				gap: 24px;
				font-size: 13px;
				color: #64748b;
			}

			.day-stat {
				display: flex;
				align-items: center;
				gap: 6px;
			}

			.stat-dot {
				width: 8px;
				height: 8px;
				border-radius: 50%;
			}

			.stat-dot.booked {
				background: #dc2626;
			}
			.stat-dot.available {
				background: #16a34a;
			}
			.stat-dot.past {
				background: #ca8a04;
			}

			.time-slots {
				display: grid;
				grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
				gap: 8px;
			}

			.time-slot {
				padding: 12px 8px;
				border-radius: 8px;
				text-align: center;
				font-size: 14px;
				font-weight: 500;
				cursor: pointer;
				transition: all 0.15s;
				border: 2px solid transparent;
			}

			.time-slot:hover:not(.past):not(.booked) {
				transform: translateY(-2px);
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
			}

			.time-slot.available {
				background: #f0fdf4;
				color: #166534;
				border-color: #bbf7d0;
			}

			.time-slot.available:hover {
				background: #dcfce7;
				border-color: #86efac;
			}

			.time-slot.booked {
				background: #fef2f2;
				color: #991b1b;
				border-color: #fecaca;
				cursor: not-allowed;
			}

			.time-slot.past {
				background: #fefce8;
				color: #854d0e;
				border-color: #fef08a;
				cursor: not-allowed;
				opacity: 0.6;
			}

			.modal {
				display: none;
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: rgba(0, 0, 0, 0.4);
				z-index: 1000;
				justify-content: center;
				align-items: center;
				backdrop-filter: blur(4px);
			}

			.modal.active {
				display: flex;
			}

			.modal-content {
				background: white;
				padding: 32px;
				border-radius: 16px;
				max-width: 500px;
				width: 90%;
				box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
			}

			.modal-content h2 {
				font-size: 24px;
				margin-bottom: 16px;
				color: #0f172a;
				font-weight: 600;
			}

			.modal-content p {
				color: #64748b;
				margin-bottom: 24px;
				font-size: 15px;
			}

			.modal-buttons {
				display: flex;
				gap: 12px;
			}

			.modal-btn {
				flex: 1;
				padding: 12px 24px;
				border: none;
				border-radius: 8px;
				font-size: 15px;
				cursor: pointer;
				font-weight: 600;
				transition: all 0.2s;
			}

			.modal-btn:disabled {
				opacity: 0.5;
				cursor: not-allowed;
			}

			.modal-btn.confirm {
				background: #16a34a;
				color: white;
			}

			.modal-btn.confirm:hover:not(:disabled) {
				background: #15803d;
			}

			.modal-btn.cancel {
				background: #f1f5f9;
				color: #475569;
			}

			.modal-btn.cancel:hover {
				background: #e2e8f0;
			}

			.booked-section {
				background: white;
				border-radius: 12px;
				padding: 24px;
				margin-top: 24px;
				box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
			}

			.booked-section h2 {
				font-size: 20px;
				font-weight: 600;
				margin-bottom: 16px;
				color: #0f172a;
			}

			.booked-list {
				display: grid;
				gap: 8px;
			}

			.booked-item {
				display: flex;
				justify-content: space-between;
				align-items: center;
				padding: 16px;
				background: #fef2f2;
				border-radius: 8px;
				border-left: 3px solid #dc2626;
			}

			.booked-info {
				flex: 1;
			}

			.booked-time {
				font-weight: 600;
				color: #0f172a;
				margin-bottom: 4px;
			}

			.booked-date {
				font-size: 13px;
				color: #64748b;
			}

			.cancel-btn {
				background: #dc2626;
				color: white;
				border: none;
				padding: 8px 16px;
				border-radius: 6px;
				cursor: pointer;
				font-weight: 500;
				font-size: 13px;
				transition: background 0.2s;
			}

			.cancel-btn:hover {
				background: #b91c1c;
			}

			.empty-state {
				text-align: center;
				padding: 40px;
				color: #94a3b8;
			}

			.loading {
				text-align: center;
				padding: 60px;
				color: #64748b;
			}

			.loading-spinner {
				border: 3px solid #f1f5f9;
				border-top: 3px solid #10b981;
				border-radius: 50%;
				width: 40px;
				height: 40px;
				animation: spin 1s linear infinite;
				margin: 0 auto 16px;
			}

			@keyframes spin {
				0% {
					transform: rotate(0deg);
				}
				100% {
					transform: rotate(360deg);
				}
			}

			@media (max-width: 768px) {
				.container {
					padding: 0;
				}

				.header {
					padding: 24px;
				}

				.header h1 {
					font-size: 24px;
				}

				.stats-grid {
					grid-template-columns: repeat(2, 1fr);
				}

				.time-slots {
					grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
				}

				.day-stats {
					flex-direction: column;
					gap: 8px;
				}
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="header">
				<h1>üèê –í–∞–ª–µ–π–±–æ–ª –ó–∞–ª—ã</h1>
				<p class="subtitle">–ë–∞—Ä–¥—ã–∫ —Ç–µ–ª–µ—Ñ–æ–Ω–¥–æ—Ä–¥–æ —Å–∏–Ω—Ö—Ä–æ–Ω–¥–æ—à–æ—Ç - Real-time</p>
				<div class="sync-status" id="syncStatus">
					<span>‚ö°</span>
					<span id="syncText">–¢—É—Ç–∞—à—É—É–¥–∞...</span>
				</div>
			</div>

			<div id="loadingScreen" class="loading">
				<div class="loading-spinner"></div>
				<p>Supabase'–∫–µ —Ç—É—Ç–∞—à—É—É–¥–∞...</p>
			</div>

			<div id="mainContent" style="display: none">
				<div class="week-nav">
					<button class="nav-btn" onclick="changeWeek(-1)">
						‚Üê –ú—É—Ä—É–Ω–∫—É –∂—É–º–∞
					</button>
					<div class="week-info" id="weekInfo"></div>
					<button class="nav-btn" onclick="changeWeek(1)">
						–ö–∏–π–∏–Ω–∫–∏ –∂—É–º–∞ ‚Üí
					</button>
				</div>

				<div class="stats-grid" id="statsGrid"></div>
				<div class="days-grid" id="daysGrid"></div>

				<div class="booked-section">
					<h2>–ë–∞—Ä–¥—ã–∫ –±—Ä–æ–Ω–¥–æ–ª–≥–æ–Ω —Å–∞–∞—Ç–∞—Ä</h2>
					<div class="booked-list" id="bookedList"></div>
				</div>
			</div>
		</div>

		<div class="modal" id="bookingModal">
			<div class="modal-content">
				<h2>–ë—Ä–æ–Ω–¥–æ–æ</h2>
				<p id="modalText"></p>
				<div class="modal-buttons">
					<button
						class="modal-btn confirm"
						id="confirmBtn"
						onclick="confirmBooking()">
						–ë—Ä–æ–Ω–¥–æ–æ
					</button>
					<button class="modal-btn cancel" onclick="closeModal()">
						–ñ–æ–∫–∫–æ —á—ã–≥–∞—Ä—É—É
					</button>
				</div>
			</div>
		</div>

		<!-- Supabase SDK -->
		<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

		<script>
			// ‚úÖ –¢–£–£–†–ê –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø - –î–ê–Ø–† –ò–®–¢–ï–ô–¢!
			const SUPABASE_URL = "https://lagszrwqzviewwpicjye.supabase.co";
			const SUPABASE_ANON_KEY =
				"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxhZ3N6cndxenZpZXd3cGljanllIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY2NDk1ODgsImV4cCI6MjA4MjIyNTU4OH0.-sa28CFn_NkaEZu8U7dEEGoAFqvIl3bMy9m1V6cZOkQ";

			// Supabase –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
			const supabase = window.supabase.createClient(
				SUPABASE_URL,
				SUPABASE_ANON_KEY
			);
			console.log("‚úÖ Supabase —Ç—É—Ç–∞—à—Ç—ã!");

			let bookedSlots = [];
			let selectedSlot = null;
			let currentWeekOffset = 0;

			const dayNames = [
				"–î“Ø–π—à”©–º–±“Ø",
				"–®–µ–π—à–µ–º–±–∏",
				"–®–∞—Ä—à–µ–º–±–∏",
				"–ë–µ–π—à–µ–º–±–∏",
				"–ñ—É–º–∞",
				"–ò—à–µ–º–±–∏",
				"–ñ–µ–∫—à–µ–º–±–∏",
			];

			function updateSyncStatus(status, text) {
				const statusEl = document.getElementById("syncStatus");
				const textEl = document.getElementById("syncText");

				statusEl.className = "sync-status";
				if (status === "syncing") {
					statusEl.classList.add("syncing");
				} else if (status === "offline") {
					statusEl.classList.add("offline");
				}

				textEl.textContent = text;
			}

			// Supabase'–¥–µ–Ω –º–∞–∞–ª—ã–º–∞—Ç –∞–ª—É—É
			async function loadBookings() {
				try {
					const { data, error } = await supabase
						.from("bookings")
						.select("*")
						.order("date", { ascending: true })
						.order("start", { ascending: true });

					if (error) throw error;

					bookedSlots = data || [];
					console.log("üì• Supabase'–¥–µ–Ω –∂“Ø–∫—Ç”©–ª–¥“Ø:", bookedSlots.length, "–±—Ä–æ–Ω");
					updateSyncStatus("success", "‚úì –°–∏–Ω—Ö—Ä–æ–Ω–¥–æ—à—Ç—É—Ä—É–ª–¥—É");
					render();
				} catch (error) {
					console.error("‚ùå –ñ“Ø–∫—Ç”©”© –∫–∞—Ç–∞—Å—ã:", error);
					updateSyncStatus("offline", "‚ö† –ñ“Ø–∫—Ç”©”© –∫–∞—Ç–∞—Å—ã");
				}
			}

			// Real-time ”©–∑–≥”©—Ä“Ø“Ø–ª”©—Ä–¥“Ø —É–≥—É—É
			function subscribeToChanges() {
				supabase
					.channel("bookings-channel")
					.on(
						"postgres_changes",
						{ event: "*", schema: "public", table: "bookings" },
						(payload) => {
							console.log("üîÑ Real-time ”©–∑–≥”©—Ä“Ø“Ø:", payload);
							loadBookings();
						}
					)
					.subscribe();
			}

			// –ñ–∞“£—ã –±—Ä–æ–Ω–¥–æ–æ –∫–æ—à—É—É
			async function addBooking(booking) {
				try {
					updateSyncStatus("syncing", "–°–∞–∫—Ç–∞–ª—É—É–¥–∞...");

					const { data, error } = await supabase
						.from("bookings")
						.insert([booking])
						.select();

					if (error) throw error;

					console.log("‚úÖ –ë—Ä–æ–Ω —Å–∞–∫—Ç–∞–ª–¥—ã:", data[0].id);
					updateSyncStatus("success", "‚úì –°–∞–∫—Ç–∞–ª–¥—ã");
					return true;
				} catch (error) {
					console.error("‚ùå –°–∞–∫—Ç–æ–æ –∫–∞—Ç–∞—Å—ã:", error);
					updateSyncStatus("offline", "‚ö† –ö–∞—Ç–∞");
					alert("–ë—Ä–æ–Ω–¥–æ–æ —Å–∞–∫—Ç–æ–æ–¥–æ –∫–∞—Ç–∞ —á—ã–∫—Ç—ã: " + error.message);
					return false;
				}
			}

			// –ë—Ä–æ–Ω–¥–æ–æ–Ω—É ”©—á“Ø—Ä“Ø“Ø
			async function removeBooking(id) {
				try {
					updateSyncStatus("syncing", "”®—á“Ø—Ä“Ø–ª“Ø“Ø–¥”©...");

					const { error } = await supabase
						.from("bookings")
						.delete()
						.eq("id", id);

					if (error) throw error;

					console.log("üóëÔ∏è –ë—Ä–æ–Ω ”©—á“Ø—Ä“Ø–ª–¥“Ø:", id);
					updateSyncStatus("success", "‚úì ”®—á“Ø—Ä“Ø–ª–¥“Ø");
					return true;
				} catch (error) {
					console.error("‚ùå ”®—á“Ø—Ä“Ø“Ø –∫–∞—Ç–∞—Å—ã:", error);
					updateSyncStatus("offline", "‚ö† –ö–∞—Ç–∞");
					return false;
				}
			}

			function getWeekDates(offset = 0) {
				const today = new Date();
				const currentDay = today.getDay();
				const monday = new Date(today);
				monday.setDate(
					today.getDate() - (currentDay === 0 ? 6 : currentDay - 1) + offset * 7
				);

				const dates = [];
				for (let i = 0; i < 7; i++) {
					const date = new Date(monday);
					date.setDate(monday.getDate() + i);
					dates.push(date);
				}
				return dates;
			}

			function formatDate(date) {
				const day = date.getDate().toString().padStart(2, "0");
				const month = (date.getMonth() + 1).toString().padStart(2, "0");
				return `${day}.${month}`;
			}

			function getDateKey(date) {
				return `${date.getFullYear()}-${(date.getMonth() + 1)
					.toString()
					.padStart(2, "0")}-${date.getDate().toString().padStart(2, "0")}`;
			}

			function updateWeekInfo() {
				const dates = getWeekDates(currentWeekOffset);
				const start = formatDate(dates[0]);
				const end = formatDate(dates[6]);
				document.getElementById("weekInfo").textContent = `${start} - ${end}`;
			}

			function changeWeek(direction) {
				currentWeekOffset += direction;
				render();
			}

			function calculateStats() {
				const dates = getWeekDates(currentWeekOffset);
				const now = new Date();
				let totalSlots = 0;
				let bookedCount = 0;
				let pastCount = 0;
				let availableCount = 0;

				dates.forEach((date) => {
					const dateKey = getDateKey(date);
					for (let hour = 9; hour < 24; hour++) {
						totalSlots++;
						const slotDate = new Date(date);
						slotDate.setHours(hour, 0, 0, 0);

						const isPast = slotDate < now;
						const isBooked = bookedSlots.some(
							(slot) =>
								slot.date === dateKey && hour >= slot.start && hour < slot.end
						);

						if (isPast && !isBooked) {
							pastCount++;
						} else if (isBooked) {
							bookedCount++;
						} else {
							availableCount++;
						}
					}
				});

				return { totalSlots, bookedCount, pastCount, availableCount };
			}

			function renderStats() {
				const stats = calculateStats();
				const grid = document.getElementById("statsGrid");

				grid.innerHTML = `
					<div class="stat-card total">
						<div class="stat-label">–ñ–∞–ª–ø—ã —Å–∞–∞—Ç–∞—Ä</div>
						<div class="stat-value">${stats.totalSlots}</div>
					</div>
					<div class="stat-card booked">
						<div class="stat-label">–ë—Ä–æ–Ω–¥–æ–ª–≥–æ–Ω</div>
						<div class="stat-value">${stats.bookedCount}</div>
					</div>
					<div class="stat-card available">
						<div class="stat-label">–ë–æ—à</div>
						<div class="stat-value">${stats.availableCount}</div>
					</div>
					<div class="stat-card past">
						<div class="stat-label">”®—Ç–∫”©–Ω</div>
						<div class="stat-value">${stats.pastCount}</div>
					</div>
				`;
			}

			function renderDays() {
				const dates = getWeekDates(currentWeekOffset);
				const grid = document.getElementById("daysGrid");
				const now = new Date();

				grid.innerHTML = "";

				dates.forEach((date, index) => {
					const dateKey = getDateKey(date);
					const dayCard = document.createElement("div");
					dayCard.className = "day-card";

					let dayBookedCount = 0;
					let dayAvailableCount = 0;
					let dayPastCount = 0;

					const slotsHTML = [];
					for (let hour = 9; hour < 24; hour++) {
						const slotDate = new Date(date);
						slotDate.setHours(hour, 0, 0, 0);
						const startTime = `${hour.toString().padStart(2, "0")}:00`;

						const isPast = slotDate < now;
						const isBooked = bookedSlots.some(
							(slot) =>
								slot.date === dateKey && hour >= slot.start && hour < slot.end
						);

						let className = "time-slot ";
						if (isPast && !isBooked) {
							className += "past";
							dayPastCount++;
						} else if (isBooked) {
							className += "booked";
							dayBookedCount++;
						} else {
							className += "available";
							dayAvailableCount++;
						}

						const onclick =
							!isPast && !isBooked
								? `onclick="openBookingModal('${dateKey}', ${hour})"`
								: "";

						slotsHTML.push(
							`<div class="${className}" ${onclick}>${startTime}</div>`
						);
					}

					dayCard.innerHTML = `
						<div class="day-header">
							<div>
								<div class="day-title">${dayNames[index]}</div>
								<div class="day-date">${formatDate(date)}</div>
							</div>
							<div class="day-stats">
								<div class="day-stat">
									<div class="stat-dot booked"></div>
									<span>${dayBookedCount}</span>
								</div>
								<div class="day-stat">
									<div class="stat-dot available"></div>
									<span>${dayAvailableCount}</span>
								</div>
								<div class="day-stat">
									<div class="stat-dot past"></div>
									<span>${dayPastCount}</span>
								</div>
							</div>
						</div>
						<div class="time-slots">${slotsHTML.join("")}</div>
					`;

					grid.appendChild(dayCard);
				});
			}

			function openBookingModal(dateKey, hour) {
				selectedSlot = { date: dateKey, hour };
				const startTime = `${hour.toString().padStart(2, "0")}:00`;
				const endTime = `${(hour + 1).toString().padStart(2, "0")}:00`;

				const date = new Date(dateKey);
				const dayName = dayNames[date.getDay() === 0 ? 6 : date.getDay() - 1];

				document.getElementById(
					"modalText"
				).textContent = `${dayName}, ${formatDate(
					date
				)} - ${startTime}-${endTime} –±—Ä–æ–Ω–¥–æ–≥–æ–Ω–≥—É –∫–µ–ª–µ—Å–∏–∑–±–∏?`;
				document.getElementById("bookingModal").classList.add("active");
			}

			function closeModal() {
				document.getElementById("bookingModal").classList.remove("active");
				selectedSlot = null;
			}

			async function confirmBooking() {
				if (selectedSlot) {
					const confirmBtn = document.getElementById("confirmBtn");
					confirmBtn.disabled = true;
					confirmBtn.textContent = "–°–∞–∫—Ç–∞–ª—É—É–¥–∞...";

					const newBooking = {
						date: selectedSlot.date,
						start: selectedSlot.hour,
						end: selectedSlot.hour + 1,
					};

					const success = await addBooking(newBooking);

					if (success) {
						closeModal();
					}

					confirmBtn.disabled = false;
					confirmBtn.textContent = "–ë—Ä–æ–Ω–¥–æ–æ";
				}
			}

			async function cancelBooking(id) {
				if (confirm("–ë—É–ª –±—Ä–æ–Ω–¥–æ–æ–Ω—É –∂–æ–∫–∫–æ —á—ã–≥–∞—Ä–∞—Å—ã–∑–±—ã?")) {
					await removeBooking(id);
				}
			}

			function renderBookedList() {
				const list = document.getElementById("bookedList");

				if (bookedSlots.length === 0) {
					list.innerHTML =
						'<div class="empty-state">–ë—Ä–æ–Ω–¥–æ–ª–≥–æ–Ω —Å–∞–∞—Ç–∞—Ä –∂–æ–∫</div>';
					return;
				}

				const sortedBookings = [...bookedSlots].sort((a, b) => {
					if (a.date !== b.date) return a.date.localeCompare(b.date);
					return a.start - b.start;
				});

				list.innerHTML = sortedBookings
					.map((slot) => {
						const date = new Date(slot.date);
						const dayName =
							dayNames[date.getDay() === 0 ? 6 : date.getDay() - 1];
						const startTime = `${slot.start.toString().padStart(2, "0")}:00`;
						const endTime = `${slot.end.toString().padStart(2, "0")}:00`;

						return `
						<div class="booked-item">
							<div class="booked-info">
								<div class="booked-time">${startTime} - ${endTime}</div>
								<div class="booked-date">${dayName}, ${formatDate(date)}</div>
							</div>
							<button class="cancel-btn" onclick="cancelBooking('${slot.id}')">
								–ñ–æ–∫–∫–æ —á—ã–≥–∞—Ä—É—É
							</button>
						</div>
					`;
					})
					.join("");
			}

			function render() {
				updateWeekInfo();
				renderStats();
				renderDays();
				renderBookedList();
			}

			// –ë–∞—à—Ç–æ–æ
			async function init() {
				console.log("üöÄ –°–∏—Å—Ç–µ–º–∞ –±–∞—à—Ç–æ–æ...");

				// await loadBookings();
				subscribeToChanges();

				document.getElementById("loadingScreen").style.display = "none";
				document.getElementById("mainContent").style.display = "block";

				console.log("‚úÖ –°–∏—Å—Ç–µ–º–∞ –¥–∞—è—Ä!");
			}

			init();
		</script>
	</body>
</html>
